(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Cd25:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,r){var i,l,o=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s="function",u=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'            <li class="film-list__item film-list__item--hover library-chapter__film-card">\r\n                <a class="film-list__item-overlay" href="" data-path="film/'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:12,column:75},end:{line:12,column:81}}}):l)+'">\r\n                    <button class="film-list__item-btn film-list__item-btn--hover" id="addTOwachedJS" data-action=""\r\n                        data-filmid="'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:14,column:37},end:{line:14,column:43}}}):l)+'">Add to watched</button>\r\n                    <button class="film-list__item-btn film-list__item-btn--hover" id="addTOqueueJS" data-action=""\r\n                        data-filmid="'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:16,column:37},end:{line:16,column:43}}}):l)+'">Add to queue</button>\r\n                </a>\r\n                <a class="film-list__item-box" href="" data-path="film/'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:18,column:71},end:{line:18,column:77}}}):l)+'">\r\n                    <img class="film-list__item-img" '+(null!=(i=d(t,"if").call(o,null!=n?d(n,"backdrop_path"):n,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:19,column:53},end:{line:20,column:86}}}))?i:"")+' alt="">\r\n                    <p class="film-list__item-rating">'+u(typeof(l=null!=(l=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?l:c)===s?l.call(o,{name:"vote_average",hash:{},data:r,loc:{start:{line:21,column:54},end:{line:21,column:70}}}):l)+'</p>\r\n                    <p class="film-list__item-name">'+u(typeof(l=null!=(l=d(t,"original_title")||(null!=n?d(n,"original_title"):n))?l:c)===s?l.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:22,column:52},end:{line:22,column:70}}}):l)+"</p>\r\n                </a>\r\n            </li>\r\n"},2:function(e,n,t,a,r){var i,l=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\r\n                        src="https://image.tmdb.org/t/p/w500'+e.escapeExpression("function"==typeof(i=null!=(i=l(t,"backdrop_path")||(null!=n?l(n,"backdrop_path"):n))?i:e.hooks.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"backdrop_path",hash:{},data:r,loc:{start:{line:20,column:60},end:{line:20,column:77}}}):i)+'" '},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){var i;return'<section class="library-chapter">\r\n    <div class="wrapper__search-bar" id="film-controls">\r\n        <div class="search-bar library-chapter__control container">\r\n            <button class="library-chapter__control-btn" id="js-btn-watched" data-status="">Watch</button>\r\n            <button class="library-chapter__control-btn" id="js-btn-queue" data-status="">Queue</button>\r\n        </div>\r\n    </div>\r\n    <div class="wrapper__main-content" data-page="library">\r\n        <ul class="film-list film-list--main-page container" id="js-film-list">\r\n'+(null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:12},end:{line:25,column:21}}}))?i:"")+"        </ul>\r\n    </div>\r\n</section>"},useData:!0})},"Dv/5":function(e,n,t){},OHFa:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,r){var i,l,o=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s="function",u=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'    <li class="film-list__item film-list__item--hover">\r\n      <a class="film-list__item-overlay" href="" data-path="film/'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:5,column:65},end:{line:5,column:71}}}):l)+'">\r\n        <button class="film-list__item-btn film-list__item-btn--hover" id="addTOwachedJS" data-action=""\r\n          data-filmid="'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:7,column:23},end:{line:7,column:29}}}):l)+'">Add to watched</button>\r\n        <button class="film-list__item-btn film-list__item-btn--hover" id="addTOqueueJS" data-action=""\r\n          data-filmid="'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:9,column:23},end:{line:9,column:29}}}):l)+'">Add to queue</button>\r\n      </a>\r\n      <a class="film-list__item-box" href="" data-path="film/'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:11,column:61},end:{line:11,column:67}}}):l)+'">\r\n        <img class="film-list__item-img" '+(null!=(i=d(t,"if").call(o,null!=n?d(n,"backdrop_path"):n,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:12,column:41},end:{line:13,column:17}}}))?i:"")+' alt="">\r\n        <p class="film-list__item-rating">'+u(typeof(l=null!=(l=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?l:c)===s?l.call(o,{name:"vote_average",hash:{},data:r,loc:{start:{line:14,column:42},end:{line:14,column:58}}}):l)+'</p>\r\n        <p class="film-list__item-name">'+u(typeof(l=null!=(l=d(t,"original_title")||(null!=n?d(n,"original_title"):n))?l:c)===s?l.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:15,column:40},end:{line:15,column:58}}}):l)+"</p>\r\n      </a>\r\n    </li>\r\n"},2:function(e,n,t,a,r){var i,l=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return' src="https://image.tmdb.org/t/p/w500'+e.escapeExpression("function"==typeof(i=null!=(i=l(t,"backdrop_path")||(null!=n?l(n,"backdrop_path"):n))?i:e.hooks.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"backdrop_path",hash:{},data:r,loc:{start:{line:12,column:99},end:{line:12,column:116}}}):i)+'"\r\n          '},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){var i;return'<div class="wrapper__main-content" id="js-search-result">\r\n  <ul class="film-list container" id="js-film-list">\r\n'+(null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:4},end:{line:18,column:13}}}))?i:"")+"  </ul>\r\n</div>"},useData:!0})},QfWi:function(e,n,t){"use strict";t.r(n);t("Dv/5"),t("WB5j"),t("lAJ5"),t("JBxO"),t("Muwe"),t("9UJh"),t("w13K"),t("y89P"),t("X5mX");function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var r=function(e){var n=this;a(this,"routes",[]),a(this,"mode",null),a(this,"root","/"),a(this,"add",(function(e,t){return n.routes.push({path:e,cb:t}),n})),a(this,"remove",(function(e){for(var t=0;t<n.routes.length;t+=1)if(n.routes[t].path===e)return n.routes.slice(t,1),n;return n})),a(this,"flush",(function(){return n.routes=[],n})),a(this,"clearSlashes",(function(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")})),a(this,"getFragment",(function(){var e="";if("history"===n.mode)e=(e=n.clearSlashes(decodeURI(window.location.pathname+window.location.search))).replace(/\?(.*)$/,""),e="/"!==n.root?e.replace(n.root,""):e;else{var t=window.location.href.match(/#(.*)$/);e=t?t[1]:""}return n.clearSlashes(e)})),a(this,"navigate",(function(e){return void 0===e&&(e=""),"history"===n.mode?window.history.pushState(null,null,n.root+n.clearSlashes(e)):window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+e,n})),a(this,"listen",(function(){clearInterval(n.interval),n.interval=setInterval(n.interval,50)})),a(this,"interval",(function(){n.current!==n.getFragment()&&(n.current=n.getFragment(),n.routes.some((function(e){var t=n.current.match(e.path);return!!t&&(t.shift(),e.cb.apply({},t),t)})))})),this.mode=window.history.pushState?"history":"hash",e.mode&&(this.mode=e.mode),e.root&&(this.root=e.root),this.listen()},i=(t("FdtR"),t("wcNg"),t("Cd25")),l=t.n(i),o=t("kpQZ"),c=t.n(o),s=t("TPhs"),u=t.n(s),d=t("jaVY"),p=t.n(d),m=t("jCYy"),f=t.n(m),h=t("OHFa"),_=t.n(h),v=t("fqzl"),g=t.n(v),y=t("viKs"),b=t.n(y),w=t("YNsJ"),k=t.n(w),x=t("p9ir"),S=t.n(x),j={pageNumber:1,filmListResult:null,searchQuery:null,QUEUE_KEY_IN_LS:"filmsQueue",WATCHED_KEY_IN_LS:"filmsWatched"},L=document.querySelector("#spinner"),q=function(){L.classList.remove("is-hidden")},M=function(){var e;e=setInterval((function(){"complete"===document.readyState&&(clearInterval(e),setTimeout((function(){return L.classList.add("is-hidden")}),1e3))}),500)};var O={rootMain:document.querySelector("#root")},E={mainPageCascade:function(){q();var e=u()(),n=k()();this.clearMainMarkUp(),O.rootMain.insertAdjacentHTML("beforeend",n+e)},popularMovies:function(e){var n=e.slice(0,4),t=e.slice(4,8),a=e.slice(8,12),r=e.slice(12,16),i=e.slice(16,20),l=p()(n)+p()(t)+p()(a)+p()(r)+p()(i);document.querySelector("#js-film-list").insertAdjacentHTML("beforeend",l),M()},filmPage:function(e){q();var n=c()(e);this.clearMainMarkUp(),O.rootMain.insertAdjacentHTML("afterbegin",n),M()},searchSuccessResultPage:function(e){q();var n=_()(e),t=document.querySelector("#js-search-result"),a=document.querySelector("#pagination");t?this.clearSearchResults(t):this.clearMainMarkUp();var r=document.querySelector("#search-bar");if(r)r.insertAdjacentHTML("afterend",n);else{var i=k()();O.rootMain.insertAdjacentHTML("afterbegin",i+n)}a||this.paginationMarkup(j.pageNumber),window.scrollBy(0,65-window.pageYOffset),M()},libraryPage:function(e){q();var n=l()(e);this.clearMainMarkUp(),O.rootMain.insertAdjacentHTML("beforeend",n),M()},pageEmptySearchResponseQuery:function(){q();var e=f()(j.searchQuery),n=k()();this.clearMainMarkUp(),O.rootMain.insertAdjacentHTML("afterbegin",n+e),M()},page404:function(){q();var e=S()(),n=k()();this.clearMainMarkUp(),O.rootMain.insertAdjacentHTML("afterbegin",n),O.rootMain.insertAdjacentHTML("beforeend",e),M()},noAddedYetPage:function(e){q();var n="queue"===e,t=g()(n),a=k()();this.clearMainMarkUp(),O.rootMain.insertAdjacentHTML("beforeend",a+t),M()},clearMainMarkUp:function(){O.rootMain.innerHTML=""},clearSearchResults:function(e){e.remove()},paginationMarkup:function(e){var n=b()(e);O.rootMain.insertAdjacentHTML("beforeend",n)},filmTrailerOverlay:function(e){return'<iframe width="560" height="315" src="https://www.youtube.com/embed/'+e+'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}},P="https://api.themoviedb.org/3",T="?api_key=0c84539b7b6fe9bdba856aa5f27d88e0";function C(){var e="&page="+j.pageNumber,n="&query="+j.searchQuery;return fetch(P+"/search/movie"+T+"&language=en-US"+n+e).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))}function A(e){return fetch(P+("/movie/"+e)+T+"&language=en-US").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))}function B(){var e="&page="+j.pageNumber;return fetch(P+"/movie/popular"+T+"&language=en-US"+e).then((function(e){return e.json()})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}function H(e){return fetch(P+("/movie/"+e+"/videos")+T+"&language=en-US").then((function(e){return e.json()})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}var N=function(){j.pageNumber++},D=function(){j.pageNumber--},I=function(){j.pageNumber=1},J={addFilmCardClickListeners:function(){document.querySelector("#js-film-list").addEventListener("click",this.onPageClickHandler)},onPageClickHandler:function(e){e.preventDefault();var n=e.target.dataset.path;n&&function(e){window.router.navigate(e)}(n)}};t("IlJM"),t("RtS0"),t("4owi"),t("WoWj"),t("3dw1"),t("uQK7"),t("hi3g"),t("lYjL");function Q(e,n){localStorage.setItem(e,JSON.stringify(n))}function U(e){return JSON.parse(localStorage.getItem(e))||[]}function W(e,n,t){Q(n,[].concat(e,[t]))}function R(e,n,t){Q(t,e.filter((function(e){return e.id!=n})))}function Y(e,n){return e.some((function(e){return e.id==n}))}var K={btnQueue:null,btnWatched:null},F=j.QUEUE_KEY_IN_LS,z=j.WATCHED_KEY_IN_LS;function $(e){var n=function(e){switch(e){case"queue":return U(F);case"watched":return U(z)}}(e);0===n.length?(E.noAddedYetPage(e),he(),document.querySelector("#search-bar").classList.add("wrapper__search-bar--margin0")):(E.libraryPage(n),J.addFilmCardClickListeners(),ce(n));V(),function(e){switch(e){case"queue":K.btnQueue.dataset.status="selected",K.btnWatched.dataset.status="unselected";break;case"watched":K.btnWatched.dataset.status="selected",K.btnQueue.dataset.status="unselected"}}(e)}function V(){K.btnQueue=document.querySelector("#js-btn-queue"),K.btnWatched=document.querySelector("#js-btn-watched"),K.btnWatched.addEventListener("click",Z),K.btnQueue.addEventListener("click",X)}function X(e){e.preventDefault(),window.router.navigate("library/queue")}function Z(e){e.preventDefault(),window.router.navigate("library/watched")}function G(e,n,t,a){e&&(t.innerHTML="Delete from watched",t.dataset.action="delete",a.innerHTML="Watch again",a.dataset.action="add"),n&&(t.innerHTML="Add to watched",t.dataset.action="add",a.innerHTML="Delete from queue",a.dataset.action="delete"),e||n||(a.innerHTML="Add to queue",a.dataset.action="add",t.innerHTML="Add to watched",t.dataset.action="add")}t("bzha"),t("zrP5");var ee,ne,te=t("QJ3N"),ae=j.QUEUE_KEY_IN_LS,re=j.WATCHED_KEY_IN_LS;function ie(e,n){var t=U(ae),a=U(re);(console.log(e),e===ae)&&(Y(t,n.id)?(R(t,n.id,ae),Object(te.success)({text:"Movie deleted from queue",delay:"2000"})):(W(t,ae,n),R(a,n.id,re),Object(te.success)({text:"Movie added to queue",delay:"2000"})));if(e===re){var r=Y(a,n.id);console.log(r),r?(R(a,n.id,re),Object(te.success)({text:"Movie deleted from watched",delay:"2000"})):(W(a,re,n),R(t,n.id,ae),Object(te.success)({text:"Movie added to watched",delay:"2000"}))}}var le=j.QUEUE_KEY_IN_LS,oe=j.WATCHED_KEY_IN_LS;function ce(e){window.innerWidth<1024||(ne=e,ee=document.querySelectorAll(".film-list__item-overlay"),ee=Array.from(ee),document.querySelector(".wrapper__main-content").addEventListener("click",se),ue())}function se(e){e.preventDefault();var n=e.target;if("BUTTON"===n.nodeName){var t,a=function(e){return ne.find((function(n){return n.id==e}))}(n.dataset.filmid);"addTOwachedJS"===n.id&&(ie(oe,a),t="watched"),"addTOqueueJS"===n.id&&(ie(le,a),t="queue"),"library"===e.currentTarget.dataset.page&&function(e,n){var t=e.closest(".library-chapter__film-card"),a=t.parentNode,r=Array.from(a.children).indexOf(t);0===r||r%2==0?t.classList.add("library-chapter__film-card--remove_left"):t.classList.add("library-chapter__film-card--remove_right"),setTimeout((function(){(q(),t.remove(),M(),0===a.children.length)&&(E.noAddedYetPage(n),he(),document.querySelector("#search-bar").classList.add("wrapper__search-bar--margin0"),V())}),350)}(n,t),ue()}}function ue(){var e,n,t=U(oe),a=U(le);ne.forEach((function(r){var i=r.id;t.length>0&&(e=Y(t,i)),a.length>0&&(n=Y(a,i));var l,o=(l=i,ee.find((function(e){return e.dataset.path==="film/"+l}))),c=o.querySelector("#addTOwachedJS"),s=o.querySelector("#addTOqueueJS");G(e,n,c,s)}))}function de(e,n,t,a,r,i,l){try{var o=e[i](l),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(a,r)}function pe(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var i=e.apply(n,t);function l(e){de(i,a,r,l,o,"next",e)}function o(e){de(i,a,r,l,o,"throw",e)}l(void 0)}))}}var me={prevBtn:null,nextBtn:null,span:null};function fe(){return(fe=pe(regeneratorRuntime.mark((function e(){var n,t,a,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(),e.next=3,C();case 3:if(n=e.sent,t=n.results,a=n.page,r=n.total_pages,0!==(i=n.total_results)&&0!==t.length){e.next=9;break}return E.pageEmptySearchResponseQuery(),he(),e.abrupt("return");case 9:if(1!==i&&1!==t.length){e.next=12;break}return J.navigateToFilmPage("film/"+t[0].id),e.abrupt("return");case 12:E.searchSuccessResultPage(t),J.addFilmCardClickListeners(),ve(),ce(t),1===a&&Se(me.prevBtn),a===r?Se(me.nextBtn):je(me.nextBtn),_e(),me.span.textContent=a,j.pageNumber=a,he();case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){document.querySelector("#search-form").addEventListener("submit",ge)}function _e(){me.prevBtn.addEventListener("click",ye),me.nextBtn.addEventListener("click",we)}function ve(){me.prevBtn=document.querySelector('.film-list__pagination-element--btn[data-action="decrement"]'),me.nextBtn=document.querySelector('.film-list__pagination-element--btn[data-action="increment"]'),me.span=document.querySelector("#js-pagination-count")}function ge(e){e.preventDefault();var n=e.target.elements.query.value;n?window.router.navigate("search/"+n):Object(te.error)({text:"Empty search query. Please, enter your require!",delay:"4000"})}function ye(){return be.apply(this,arguments)}function be(){return(be=pe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(),ke();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){N(),ke()}function ke(){return xe.apply(this,arguments)}function xe(){return(xe=pe(regeneratorRuntime.mark((function e(){var n,t,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:n=e.sent,t=n.results,a=n.page,r=n.total_pages,E.searchSuccessResultPage(t),ce(t),J.addFilmCardClickListeners(),1===a&&Se(me.prevBtn),a===r&&Se(me.nextBtn),a<r&&je(me.nextBtn),a>1&&je(me.prevBtn),j.pageNumber=a,me.span.textContent=a;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){e.disabled=!0}function je(e){e.disabled=!1}var Le=t("zLwO"),qe=t.n(Le);function Me(e,n,t,a,r,i,l){try{var o=e[i](l),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(a,r)}function Oe(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var i=e.apply(n,t);function l(e){Me(i,a,r,l,o,"next",e)}function o(e){Me(i,a,r,l,o,"throw",e)}l(void 0)}))}}function Ee(){return(Ee=Oe(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.mainPageCascade(),he(),e.prev=2,e.next=5,B();case 5:n=e.sent,E.popularMovies(n),ce(n),J.addFilmCardClickListeners(),Pe(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),Object(te.error)({text:"OOPS! Something went wrong with connecting. Redirecting to saved films",delay:"2000"}),window.router.navigate("library/queue");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Pe(){var e=new qe.a({selector:".siema",duration:1e3,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!0,rtl:!1,onInit:function(){},onChange:function(){}});setInterval((function(){return e.next()}),4e3)}var Te,Ce,Ae=t("dcBu");t("PzF0");function Be(e,n,t,a,r,i,l){try{var o=e[i](l),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(a,r)}function He(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var i=e.apply(n,t);function l(e){Be(i,a,r,l,o,"next",e)}function o(e){Be(i,a,r,l,o,"throw",e)}l(void 0)}))}}var Ne={watchedBtn:null,queueBtn:null},De=j.QUEUE_KEY_IN_LS,Ie=j.WATCHED_KEY_IN_LS;function Je(){return(Je=He(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n);case 2:if(34!==(Te=e.sent).status_code){e.next=6;break}return E.page404(),e.abrupt("return");case 6:if(7!==Te.status_code){e.next=9;break}return E.pageError(),e.abrupt("return");case 9:E.filmPage(Te),document.querySelector("#js-poster-link").addEventListener("click",Re),Ne.watchedBtn=document.getElementById("addTOwachedJS"),Ne.queueBtn=document.getElementById("addTOqueueJS"),Ne.watchedBtn.addEventListener("click",We),Ne.queueBtn.addEventListener("click",Ue),Qe();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){var e=U(Ie),n=U(De);G(Y(e,Te.id),Y(n,Te.id),Ne.watchedBtn,Ne.queueBtn)}function Ue(){ie(De,Te),Qe()}function We(){ie(Ie,Te),Qe()}function Re(){return Ye.apply(this,arguments)}function Ye(){return(Ye=He(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(),e.prev=1,e.next=4,H(Te.id).then((function(e){return e[0].key}));case 4:Ke(e.sent),Ce.show(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),M(),Object(te.error)({text:"Cannot find trailer of this movie.",delay:"2000"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Ke(e){var n=E.filmTrailerOverlay(e);Ce=Ae.create(n,{closable:!0,onShow:function(){M(),window.addEventListener("keydown",Fe)},onClose:function(){window.removeEventListener("keydown",Fe)}})}function Fe(e){"Escape"===e.code&&Ce.close()}var ze={headerLogo:document.querySelector("#js-logo"),headerLinkHome:document.querySelector("#js-header-link-home"),headerLinkMyLibrary:document.querySelector("#js-header-link-library")};function $e(e){window.router.navigate("home")}function Ve(){window.router.navigate("home")}function Xe(e){e.preventDefault(),window.router.navigate("/library/queue")}var Ze=t("yWWw"),Ge=document.querySelector("#js-btn-to-up");function en(){var e=window.pageYOffset,n=document.documentElement.clientHeight;e>n&&Ge.classList.add("footer__btn-up--show"),e<n&&Ge.classList.remove("footer__btn-up--show")}function nn(){window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(nn,0))}var tn={home:document.querySelector("#js-header-link-home"),library:document.querySelector("#js-header-link-library")};function an(e){switch(e){case"home":tn.home.dataset.status="selected",tn.library.dataset.status="unselected";break;case"library":tn.library.dataset.status="selected",tn.home.dataset.status="unselected";break;default:tn.home.dataset.status="unselected",tn.library.dataset.status="unselected"}}window.router=new r({mode:"history",root:"/"}),window.router.add(/film\/(.*)/,(function(e){!function(e){Je.apply(this,arguments)}(e),an("filmpage")})).add("library/queue",(function(){$("queue"),an("library")})).add("library/watched",(function(){$("watched"),an("library")})).add(/search\/(.*)/,(function(e){j.searchQuery=e,function(){fe.apply(this,arguments)}(),an("search")})).add("home",(function(){!function(){Ee.apply(this,arguments)}(),an("home")})).add("",(function(){E.page404(),he(),an("404")})),window.router.navigate("home"),ze.headerLogo.addEventListener("click",Ve),ze.headerLinkHome.addEventListener("click",$e),ze.headerLinkMyLibrary.addEventListener("click",Xe),window.addEventListener("scroll",Ze(en,200)),Ge.addEventListener("click",nn)},TPhs:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){return'<section class="wrapper__main-content">\r\n    <div class="siema" id="js-film-list">\r\n\r\n    </div>\r\n</section>'},useData:!0})},YNsJ:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){return'<section class="wrapper__search-bar" id="search-bar">\r\n    <div class="search-bar container">\r\n        <form id="search-form" class="search-bar__form">\r\n            <button action="submit" class="search-bar__button"><i class="fa fa-search"></i></button>\r\n            <input class="search-bar__input" name="query" autocomplete="off" placeholder="Write movie name and click Enter" />\r\n        </form>\r\n    </div>\r\n</section>'},useData:!0})},fqzl:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,r){return'      <p class="error-page__text">There is no films added to queue list yet. Try to find one.</p>\r\n'},3:function(e,n,t,a,r){return'      <p class="error-page__text">You haven\'t added any film to watched list</p>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){var i,l=null!=n?n:e.nullContext||{},o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<section class="library-chapter">\r\n  <div class="wrapper__search-bar" id="film-controls">\r\n    <div class="search-bar library-chapter__control container">\r\n      <button class="library-chapter__control-btn" id="js-btn-watched" data-status="">Watch</button>\r\n      <button class="library-chapter__control-btn" id="js-btn-queue" data-status="">Queue</button>\r\n    </div>\r\n  </div>\r\n  <div class="wrapper__main-content" data-page="library">\r\n    <div class="error-page container">\r\n'+(null!=(i=o(t,"if").call(l,n,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:6},end:{line:12,column:13}}}))?i:"")+(null!=(i=o(t,"unless").call(l,n,{name:"unless",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:13,column:6},end:{line:15,column:17}}}))?i:"")+'      <img class="error-page__image" src="https://static.dribbble.com/users/1693462/screenshots/3504905/icon-404.gif"\r\n        alt="empty-box">\r\n    </div>\r\n  </div>\r\n</section>'},useData:!0})},jCYy:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){return'<div class="error-page container">\r\n    <p class="error-page__text">Sorry. We couldn\'t find any film by your query: "'+e.escapeExpression(e.lambda(n,n))+'".<br> But we tried :(</p>\r\n    <img class="error-page__image" src="https://thumbs.gfycat.com/KindTerrificIggypops-size_restricted.gif" alt="travolta\'s-misunderstanding">\r\n</div>'},useData:!0})},jaVY:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,r){var i,l,o=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s="function",u=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'  <li class="film-list__item film-list__item--hover">\r\n    <a class="film-list__item-overlay" href="" data-path="film/'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:4,column:63},end:{line:4,column:69}}}):l)+'">\r\n        <button class="film-list__item-btn film-list__item-btn--hover" id="addTOwachedJS" data-action="" data-filmid="'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:5,column:118},end:{line:5,column:124}}}):l)+'">Add to watched</button>\r\n        <button class="film-list__item-btn film-list__item-btn--hover" id="addTOqueueJS" data-action="" data-filmid="'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:6,column:117},end:{line:6,column:123}}}):l)+'">Add to queue</button>\r\n    </a>\r\n    <a class="film-list__item-box" href="" data-path="film/'+u(typeof(l=null!=(l=d(t,"id")||(null!=n?d(n,"id"):n))?l:c)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:8,column:59},end:{line:8,column:65}}}):l)+'">\r\n      <img class="film-list__item-img" \r\n'+(null!=(i=d(t,"if").call(o,null!=n?d(n,"backdrop_path"):n,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:8},end:{line:12,column:15}}}))?i:"")+'        alt="">\r\n      <p class="film-list__item-rating">'+u(typeof(l=null!=(l=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?l:c)===s?l.call(o,{name:"vote_average",hash:{},data:r,loc:{start:{line:14,column:40},end:{line:14,column:56}}}):l)+'</p>\r\n      <p class="film-list__item-name">'+u(typeof(l=null!=(l=d(t,"original_title")||(null!=n?d(n,"original_title"):n))?l:c)===s?l.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:15,column:38},end:{line:15,column:56}}}):l)+"</p>\r\n    </a>\r\n  </li>\r\n"},2:function(e,n,t,a,r){var i,l=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'        src="https://image.tmdb.org/t/p/w500'+e.escapeExpression("function"==typeof(i=null!=(i=l(t,"backdrop_path")||(null!=n?l(n,"backdrop_path"):n))?i:e.hooks.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"backdrop_path",hash:{},data:r,loc:{start:{line:11,column:44},end:{line:11,column:61}}}):i)+'" \r\n'},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){var i;return'<ul class="film-list film-list--main-page container">\r\n'+(null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:2,column:2},end:{line:18,column:11}}}))?i:"")+"</ul>"},useData:!0})},kpQZ:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,r){var i,l=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return' src="https://image.tmdb.org/t/p/w500'+e.escapeExpression("function"==typeof(i=null!=(i=l(t,"poster_path")||(null!=n?l(n,"poster_path"):n))?i:e.hooks.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"poster_path",hash:{},data:r,loc:{start:{line:11,column:97},end:{line:11,column:112}}}):i)+'"\r\n        '},3:function(e,n,t,a,r){var i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"            <span>"+e.escapeExpression(e.lambda(null!=n?i(n,"name"):n,n))+"</span>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){var i,l,o=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s="function",u=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<article class="wrapper__main-content">\r\n  <section class="film-page container">\r\n    <div href="#" class="film-page__poster" id="js-poster-link">\r\n      <a class="film-page__poster-overlay">\r\n        <p class="film-page__poster-overlay-text">\r\n          <span class="material-icons play-icon film-page__poster-overlay-text-icon">\r\n            play_circle_outline\r\n          </span>\r\n          <span>Watch the trailer</span></p>\r\n      </a>\r\n      <img class="film-page__poster-img" '+(null!=(i=d(t,"if").call(o,null!=n?d(n,"poster_path"):n,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:11,column:41},end:{line:12,column:15}}}))?i:"")+' alt="">\r\n    </div>\r\n\r\n    <section class="film-page__description">\r\n      <div class="film-page__description-statements">\r\n        <h2 class="film-page__description-title">'+u(typeof(l=null!=(l=d(t,"original_title")||(null!=n?d(n,"original_title"):n))?l:c)===s?l.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:17,column:49},end:{line:17,column:67}}}):l)+'</h2>\r\n\r\n\r\n        <P class="film-page__description-row">\r\n          <span class="film-page__description-row-key">vote / votes:</span>\r\n          <span>'+u(typeof(l=null!=(l=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?l:c)===s?l.call(o,{name:"vote_average",hash:{},data:r,loc:{start:{line:22,column:16},end:{line:22,column:32}}}):l)+" / "+u(typeof(l=null!=(l=d(t,"vote_count")||(null!=n?d(n,"vote_count"):n))?l:c)===s?l.call(o,{name:"vote_count",hash:{},data:r,loc:{start:{line:22,column:35},end:{line:22,column:49}}}):l)+'</span>\r\n        </P>\r\n\r\n\r\n        <P class="film-page__description-row">\r\n          <span class="film-page__description-row-key">popularity: </span>\r\n          <span>'+u(typeof(l=null!=(l=d(t,"popularity")||(null!=n?d(n,"popularity"):n))?l:c)===s?l.call(o,{name:"popularity",hash:{},data:r,loc:{start:{line:28,column:16},end:{line:28,column:30}}}):l)+'</span>\r\n        </P>\r\n\r\n\r\n        <div class="film-page__description-row film-page__description-row--flex">\r\n          <span class="film-page__description-row-key film-page__description-row-key--genres">original title:</span>\r\n          <div class="film-page__description-row-value film-page__description-row-value--genres">\r\n            <span>'+u(typeof(l=null!=(l=d(t,"title")||(null!=n?d(n,"title"):n))?l:c)===s?l.call(o,{name:"title",hash:{},data:r,loc:{start:{line:35,column:18},end:{line:35,column:27}}}):l)+'</span>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class="film-page__description-row film-page__description-row--flex">\r\n          <span class="film-page__description-row-key film-page__description-row-key--genres">genre:</span>\r\n          <div class="film-page__description-row-value film-page__description-row-value--genres">\r\n'+(null!=(i=d(t,"each").call(o,null!=n?d(n,"genres"):n,{name:"each",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:43,column:12},end:{line:45,column:21}}}))?i:"")+'          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <h3 class="film-page__description-title">About:</h3>\r\n      <p class="film-page__description-overview">'+u(typeof(l=null!=(l=d(t,"overview")||(null!=n?d(n,"overview"):n))?l:c)===s?l.call(o,{name:"overview",hash:{},data:r,loc:{start:{line:51,column:49},end:{line:51,column:61}}}):l)+'</p>\r\n      <div class="film-page__controls">\r\n        <button class="film-list__item-btn film-list__item-btn--hover film-page__btn" id="addTOwachedJS"\r\n          data-action="">Add to\r\n          watched</button>\r\n        <button class="film-list__item-btn film-list__item-btn--hover film-page__btn" id="addTOqueueJS"\r\n          data-action="">Add to\r\n          queue</button>\r\n      </div>\r\n    </section>\r\n\r\n  </section>\r\n</article>'},useData:!0})},p9ir:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){return'<img class="page-not-found_img" src="https://payroll.samsclub.com/Images/404.gif" alt="page_not_found_404">'},useData:!0})},viKs:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){var i,l=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="film-list__pagination container" id="pagination">\r\n    <button class="film-list__pagination-element film-list__pagination-element--btn" data-action="decrement">\r\n        Prev\r\n    </button>\r\n    <span class="film-list__pagination-element film-list__pagination-element--text" id="js-pagination-count">'+e.escapeExpression("function"==typeof(i=null!=(i=l(t,"page")||(null!=n?l(n,"page"):n))?i:e.hooks.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"page",hash:{},data:r,loc:{start:{line:5,column:109},end:{line:5,column:117}}}):i)+'</span>\r\n    <button class="film-list__pagination-element film-list__pagination-element--btn" data-action="increment">\r\n        Next\r\n    </button>\r\n</div>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.b2ffb3821493b1133412.js.map